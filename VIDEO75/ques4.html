<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question 4</title>
</head>

<body>
    <script>
        
        function load1(src) {
            
            let pro1 = new Promise((resolve, reject) => {
                let script = document.createElement("script")
                script.src = src
                script.onload = () => {
                    console.log(`script loaded: ${src}`);
                    resolve()
                }
                
                script.onerror = (err) => {
                    console.error(`failed to load script ${src}`);
                    reject(err)
                }
                document.head.append(script)
            })   
        }
        
        async function runPromises() {
            
            let prom1 = new Promise ((resolve, reject) =>{
                let a = Math.random()
                
                if (a < 0.5) {
                    resolve("sucess! the promise is reoslved")
                } else { 
                    reject("no.1 the promise is failed")
                    
                }
            })
            
            let prom2 = new Promise ((resolve, reject) =>{
                let a = Math.random()
                if (a < 0.5) {
                    resolve("sucess  the promise is resolved ")
                } else {
                    reject("sad promies is not reolved")
                    
                }
                
                
            })
            
            let prom3 = new Promise ((resolve, reject) =>{
                let a = Math.random()
                if (a < 0.5 ) {
                    resolve("sucess the promise is resolvedâœ…")
                } else {
                    reject("promise is not resolvedðŸ‘ºðŸ‘º")
                    
                }
            })
            
            try {
                // let result = await Promise.all([prom1, prom2, prom3])
                // console.log('âœ¨All promises resolved');
                // console.log(result);

                let result1 = await prom1;
                console.log('Result 1: ', result1);

            } catch (err) {
                console.log('ðŸ‘  no. one failed: ');
                console.log("ðŸ‘†",err);
                
            }

            try {
                let result2 = await prom2;
                console.log('result 2 : ', result2);
                
            } catch (err) {
                console.log(err)
                console.log('ðŸ‘† no2 is failed');
                
            }

            try {
                let result3 = await prom3;
                console.log('Result3: ', result3);

                
            } catch (err) {
                console.log(err);
                console.log("ðŸ‘†no. 3 is failed")
            }
            
        }

        runPromises()
            </script>
            </body>
            
            </html>