<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice</title>
</head>

<body>
    <script>
        // function loadScript() {
        //     let script = document.createElement("script")
        //     script.src = "hello.js"
        //     script.onload = function () {
        //         alert("script loaded")
        //     };
        //     document.body.append(script)
        // }

        // loadScript()

        // const callback = (arg, fn) => {
        //     console.log(arg)
        //     fn()
        // }

        // const load = (src, callback) => {
        //     let scrt = document.createElement("script")
        //     scrt.src = src
        //     document.head.append(scrt)
        //     console.log('callback');

        // }
        // load("https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/prism.min.js", callback)

        function load(src) {
            return new Promise((resolve, reject) => {
                let script = document.createElement("script")
                script.src = src;

                script.onload = () => {
                    console.log(`✅ script loaded: ${src}`);
                    resolve();
                };

                script.onerror = (err) => {
                    console.error(`❌ failed to load script: ${src}`)
                    reject(err)
                };

                document.head.append(script)
            });
        }

        // 2. using async function to await loading 
        async function loadScriptAsync() {
            console.log('⌛loading script');
            await load("https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/prism.min.js")
            console.log('script is ready to use !!');
        }

        loadScriptAsync()

      

    </script>
</body>

</html>